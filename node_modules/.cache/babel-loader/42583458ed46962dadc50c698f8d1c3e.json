{"ast":null,"code":"var _jsxFileName = \"D:\\\\Desarrollos\\\\React\\\\badge_app\\\\src\\\\pages\\\\CharactersCard.js\";\nimport React from \"react\";\nimport CharactersList from \"../components/CharactersList\";\nimport Pagination from \"../components/Pagination\";\nimport \"./styles/Badges.css\";\nimport conflogo from \"../images/Rick_and_Morty.svg\";\n\nclass Characters extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchCharacters = async _link => {\n      this.setState({\n        loading: true,\n        error: null\n      });\n      let link = _link;\n\n      if (link === null) {\n        link = 'https://rickandmortyapi.com/api/character';\n      } // Forma tradicional\n\n      /* const resp = await fetch('https://rickandmortyapi.com/api/character');\r\n      const data = await resp.json(); */\n      // Forma moderna llamado asincrono\n\n\n      console.log(link);\n      fetch(link, {\n        method: 'GET'\n      }).then(response => {\n        if (response.ok) {\n          return response.json();\n        } else {\n          console.log(response.status);\n\n          if (response.status == 404) {\n            //console.log('Error is: ', error)\n            this.setState({\n              loadign: false,\n              error: \"Some error happend maybe 404\"\n            });\n          }\n\n          return Promise.reject('Some error happend maybe 404');\n        }\n      }).then(data => {\n        // this.setState({ data: json, loading: false, })\n        console.log('Respuesta: ', data); // simular una demora a la api\n\n        setTimeout(() => {\n          this.setState({\n            loading: false,\n            data: data\n          });\n        }, 0);\n      }).catch(error => {\n        //console.log('Error is: ', error)\n        this.setState({\n          loading: false,\n          error: error\n        });\n      });\n    };\n\n    this.state = {\n      loading: true,\n      error: null,\n      data: {\n        info: {\n          next: null,\n          prev: null\n        },\n        results: []\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.fetchCharacters(null);\n  }\n\n  render() {\n    if (this.state.error !== null) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"alert alert-danger\",\n        role: \"alert\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 14\n        }\n      }, this.state.error);\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Badges\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Badges__hero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Badges__container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: conflogo,\n      alt: \"\",\n      className: \"img-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Badges__container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Badges__buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"pagination\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: this.state.data.info.prev === null ? 'page-item disabled' : 'page-item ',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"page-link\",\n      href: \"#\",\n      onClick: () => this.state.data.info.prev !== null && this.fetchCharacters(this.state.data.info.prev),\n      \"aria-label\": \"Previous\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, \"Previous\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: this.state.data.info.next === null ? 'page-item disabled' : 'page-item ',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"page-link\",\n      href: \"#\",\n      onClick: () => this.fetchCharacters(this.state.data.info.next),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, \"Next\")))), this.state.data.results.length !== 0 && /*#__PURE__*/React.createElement(CharactersList, {\n      cards: this.state.data.results,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }), this.state.loading && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 35\n      }\n    }, \"Loading...\")));\n  }\n\n}\n\nexport default Characters;","map":{"version":3,"sources":["D:/Desarrollos/React/badge_app/src/pages/CharactersCard.js"],"names":["React","CharactersList","Pagination","Characters","Component","constructor","props","fetchCharacters","_link","setState","loading","error","link","console","log","fetch","method","then","response","ok","json","status","loadign","Promise","reject","data","setTimeout","catch","state","info","next","prev","results","componentDidMount","render","conflogo","length"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport CharactersList from \"../components/CharactersList\";\r\nimport Pagination from \"../components/Pagination\";\r\n\r\nimport \"./styles/Badges.css\";\r\n\r\nimport conflogo from \"../images/Rick_and_Morty.svg\";\r\n\r\nclass Characters extends React.Component {\r\n  constructor (props) {\r\n    super(props);\r\n  \r\n    this.state = {\r\n      loading : true,\r\n      error : null,\r\n      data : {\r\n        info: {\r\n          next : null,\r\n          prev : null,\r\n        },\r\n        results: [],        \r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchCharacters(null);\r\n  } \r\n  \r\n  fetchCharacters = async (_link) => {\r\n    this.setState({\r\n      loading : true,\r\n      error: null\r\n    })\r\n    \r\n    let link = _link\r\n\r\n    if (link === null) {\r\n      link = 'https://rickandmortyapi.com/api/character';\r\n    }\r\n\r\n    // Forma tradicional\r\n    /* const resp = await fetch('https://rickandmortyapi.com/api/character');\r\n    const data = await resp.json(); */\r\n    \r\n    // Forma moderna llamado asincrono\r\n    console.log(link)\r\n\r\n    fetch(link, {method: 'GET',})\r\n      .then(response => {\r\n        if (response.ok) {\r\n          return response.json()\r\n        } else {\r\n          console.log(response.status)\r\n          if (response.status == 404) {\r\n            //console.log('Error is: ', error)\r\n            this.setState({\r\n              loadign: false,\r\n              error: \"Some error happend maybe 404\"\r\n            });\r\n          }\r\n          return Promise.reject('Some error happend maybe 404')\r\n        }\r\n      } )\r\n      .then(data => { \r\n        // this.setState({ data: json, loading: false, })\r\n        console.log('Respuesta: ', data)\r\n        // simular una demora a la api\r\n        setTimeout(() => {\r\n          this.setState({\r\n            loading: false,\r\n            data: data,\r\n          })  \r\n        }, 0);\r\n      }).catch(error => {\r\n        //console.log('Error is: ', error)\r\n        this.setState({loading: false, error: error})\r\n      })\r\n\r\n  };\r\n\r\n  render() {\r\n    if (this.state.error !== null) {\r\n      return <div className=\"alert alert-danger\" role=\"alert\">\r\n        {this.state.error}\r\n      </div>\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"Badges\">\r\n          <div className=\"Badges__hero\">\r\n            <div className=\"Badges__container\">\r\n              <img src={conflogo} alt=\"\" className=\"img-fluid\"/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"Badges__container\">\r\n          <div className=\"Badges__buttons\">\r\n            <ul className=\"pagination\">\r\n              <li className={this.state.data.info.prev === null ? 'page-item disabled':'page-item '}>\r\n                <a className=\"page-link\" \r\n                  href=\"#\" \r\n                  onClick={() => this.state.data.info.prev !== null && (this.fetchCharacters(this.state.data.info.prev)) }\r\n                  aria-label=\"Previous\">\r\n                  Previous\r\n                </a>\r\n              </li>\r\n              \r\n              { <li className={this.state.data.info.next === null ? 'page-item disabled':'page-item '}>\r\n                <a className=\"page-link\" href=\"#\" onClick={() => this.fetchCharacters(this.state.data.info.next) }> \r\n                  Next</a>\r\n              </li> }\r\n            </ul>\r\n\r\n            {/* <Pagination \r\n              url_prev={this.state.data.info.prev} \r\n              url_next={this.state.data.info.next}\r\n              \r\n               /> */}\r\n\r\n           \r\n          </div>\r\n          \r\n          {this.state.data.results.length !== 0 && ( \r\n            <CharactersList cards={this.state.data.results}/>)\r\n          }\r\n\r\n          {this.state.loading && (<div>Loading...</div>)}\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Characters;\r\n"]},"metadata":{},"sourceType":"module"}